{"version":3,"sources":["webpack:///path---strip-the-www-with-nginx-580057fa2789483040a3.js","webpack:///./.cache/json/strip-the-www-with-nginx.json"],"names":["webpackJsonp","556","module","exports","data","markdownRemark","html","timeToRead","excerpt","frontmatter","title","cover","date","tags","author","fields","slug","prev","next","authors","edges","node","id","name","image","url","bio","pathContext","total"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,oyDAAstDC,WAAA,EAAAC,QAAA,4IAAAC,aAA4TC,MAAA,2BAAAC,MAAA,6CAAAC,KAAA,mBAAAC,MAAA,eAAAC,OAAA,SAA0JC,QAAWC,KAAA,8BAAoCC,MAAST,QAAA,iHAAyDC,aAAiFC,MAAA,mBAAAC,MAAA,kDAAAC,KAAA,oBAA+GG,QAAWC,KAAA,sBAA4BE,MAASV,QAAA,iHAAAC,aAA0IC,MAAA,cAAAC,MAAA,kDAAAC,KAAA,cAAoGG,QAAWC,KAAA,iBAAuBG,SAAYC,QAAUC,MAAQC,GAAA,QAAAC,KAAA,YAAAC,MAAA,uBAAAC,IAAA,gCAAAC,IAAA,oCAA8IC,aAAgBX,KAAA,4BAAAY,MAAA,GAAAX,KAAA,oBAAAC,KAAA","file":"path---strip-the-www-with-nginx-580057fa2789483040a3.js","sourcesContent":["webpackJsonp([148157862909659],{\n\n/***/ 556:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>DNS is a pain. The internet is littered with people complaining about \\\"naked domain\\\" problems - where a site responds to \\\"www.mysite.com\\\" but not \\\"mysite.com\\\".</p>\\n<p>But I have the opposite problem. URLs should be nice to look at - and personally, I'm no fan of the \\\"www.\\\" prefix. I want the address of this site to be <a href=\\\"http://eddielee.me\\\">eddielee.me</a> not <a href=\\\"http://www.eddielee.me\\\">www.eddielee.me</a>. However; fact is, people will type \\\"www.\\\" and I need to handle that.</p>\\n<p>Luckily this is quite easy if you're comfortable with DNS and changing a few lines in a config file.</p>\\n<p>The first thing to do is make sure both the \\\"naked domain\\\" and \\\"www\\\" subdomain are pointing to the right server. To do this set A records for both <code class=\\\"language-text\\\">@</code> and <code class=\\\"language-text\\\">www</code> to point to your IP address.</p>\\n<p><img src=\\\"/images/dns-naked.png\\\" alt=\\\"Naked domain A record\\\"></p>\\n<p><img src=\\\"/images/dns-www.png\\\" alt=\\\"www A record\\\"></p>\\n<p>Once these have propagated the site should be available at both \\\"www.mysite.com\\\" and \\\"mysite.com\\\".</p>\\n<p>Now, to remove the \\\"www.\\\" and forward the user onto the correct page on the naked domain. E.g. \\\"www.mysite.com/section/page?param=value\\\" to \\\"mysite.com/section/page?param=value\\\".</p>\\n<p>To do this we need to edit the config for the nginx site; found in the directory <code class=\\\"language-text\\\">/etc/nginx/sites-available</code>. Here an additional server section should be added as follows.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">server {\\n  server_name www.mysite.com;\\n  return 301 $scheme://mysite.com$request_uri;\\n}</code></pre>\\n      </div>\\n<p>This will 301 redirect any request prefixed with \\\"www.\\\" to the same path on the naked domain.</p>\",\"timeToRead\":1,\"excerpt\":\"DNS is a pain. The internet is littered with people complaining about \\\"naked domain\\\" problems - where a site responds to \\\"www.mysite.com…\",\"frontmatter\":{\"title\":\"Strip the www with nginx\",\"cover\":\"https://unsplash.it/1152/300/?random?nginx\",\"date\":\"2016-08-21T18:52\",\"tags\":[\"ngnix\",\"dns\"],\"author\":\"eddie\"},\"fields\":{\"slug\":\"/strip-the-www-with-nginx\"}},\"prev\":{\"excerpt\":\"Today we welcome a new addition to the family; our daughter Aurora was born this morning at 03:17AM. Ethan is…\",\"frontmatter\":{\"title\":\"A growing family\",\"cover\":\"https://unsplash.it/1152/300/?random?FamilyGrow\",\"date\":\"2016-08-24T20:08\"},\"fields\":{\"slug\":\"/a-growing-family\"}},\"next\":{\"excerpt\":\"I've spent the weekend migrating my blog from its old home on  Tumblr  to a self-hosted version of  Ghost  on…\",\"frontmatter\":{\"title\":\"Hello Ghost\",\"cover\":\"https://unsplash.it/1152/300/?random?HelloGhost\",\"date\":\"2016-08-21\"},\"fields\":{\"slug\":\"/hello-ghost\"}},\"authors\":{\"edges\":[{\"node\":{\"id\":\"eddie\",\"name\":\"Eddie Lee\",\"image\":\"/images/eddielee.jpg\",\"url\":\"https://twitter.com/eddielee6\",\"bio\":\"Father and Software Engineer\"}}]}},\"pathContext\":{\"slug\":\"/strip-the-www-with-nginx\",\"total\":41,\"prev\":\"/a-growing-family\",\"next\":\"/hello-ghost\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---strip-the-www-with-nginx-580057fa2789483040a3.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>DNS is a pain. The internet is littered with people complaining about \\\"naked domain\\\" problems - where a site responds to \\\"www.mysite.com\\\" but not \\\"mysite.com\\\".</p>\\n<p>But I have the opposite problem. URLs should be nice to look at - and personally, I'm no fan of the \\\"www.\\\" prefix. I want the address of this site to be <a href=\\\"http://eddielee.me\\\">eddielee.me</a> not <a href=\\\"http://www.eddielee.me\\\">www.eddielee.me</a>. However; fact is, people will type \\\"www.\\\" and I need to handle that.</p>\\n<p>Luckily this is quite easy if you're comfortable with DNS and changing a few lines in a config file.</p>\\n<p>The first thing to do is make sure both the \\\"naked domain\\\" and \\\"www\\\" subdomain are pointing to the right server. To do this set A records for both <code class=\\\"language-text\\\">@</code> and <code class=\\\"language-text\\\">www</code> to point to your IP address.</p>\\n<p><img src=\\\"/images/dns-naked.png\\\" alt=\\\"Naked domain A record\\\"></p>\\n<p><img src=\\\"/images/dns-www.png\\\" alt=\\\"www A record\\\"></p>\\n<p>Once these have propagated the site should be available at both \\\"www.mysite.com\\\" and \\\"mysite.com\\\".</p>\\n<p>Now, to remove the \\\"www.\\\" and forward the user onto the correct page on the naked domain. E.g. \\\"www.mysite.com/section/page?param=value\\\" to \\\"mysite.com/section/page?param=value\\\".</p>\\n<p>To do this we need to edit the config for the nginx site; found in the directory <code class=\\\"language-text\\\">/etc/nginx/sites-available</code>. Here an additional server section should be added as follows.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">server {\\n  server_name www.mysite.com;\\n  return 301 $scheme://mysite.com$request_uri;\\n}</code></pre>\\n      </div>\\n<p>This will 301 redirect any request prefixed with \\\"www.\\\" to the same path on the naked domain.</p>\",\"timeToRead\":1,\"excerpt\":\"DNS is a pain. The internet is littered with people complaining about \\\"naked domain\\\" problems - where a site responds to \\\"www.mysite.com…\",\"frontmatter\":{\"title\":\"Strip the www with nginx\",\"cover\":\"https://unsplash.it/1152/300/?random?nginx\",\"date\":\"2016-08-21T18:52\",\"tags\":[\"ngnix\",\"dns\"],\"author\":\"eddie\"},\"fields\":{\"slug\":\"/strip-the-www-with-nginx\"}},\"prev\":{\"excerpt\":\"Today we welcome a new addition to the family; our daughter Aurora was born this morning at 03:17AM. Ethan is…\",\"frontmatter\":{\"title\":\"A growing family\",\"cover\":\"https://unsplash.it/1152/300/?random?FamilyGrow\",\"date\":\"2016-08-24T20:08\"},\"fields\":{\"slug\":\"/a-growing-family\"}},\"next\":{\"excerpt\":\"I've spent the weekend migrating my blog from its old home on  Tumblr  to a self-hosted version of  Ghost  on…\",\"frontmatter\":{\"title\":\"Hello Ghost\",\"cover\":\"https://unsplash.it/1152/300/?random?HelloGhost\",\"date\":\"2016-08-21\"},\"fields\":{\"slug\":\"/hello-ghost\"}},\"authors\":{\"edges\":[{\"node\":{\"id\":\"eddie\",\"name\":\"Eddie Lee\",\"image\":\"/images/eddielee.jpg\",\"url\":\"https://twitter.com/eddielee6\",\"bio\":\"Father and Software Engineer\"}}]}},\"pathContext\":{\"slug\":\"/strip-the-www-with-nginx\",\"total\":41,\"prev\":\"/a-growing-family\",\"next\":\"/hello-ghost\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/strip-the-www-with-nginx.json\n// module id = 556\n// module chunks = 148157862909659"],"sourceRoot":""}